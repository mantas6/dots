#!/usr/bin/env sh
# Initialize additional packages/repositories

for pkgDir in "$DOTS_DIR"/opt/*; do
    (cd "$pkgDir" && [ -f build ] && ./build)
done

cp -v "$DOTS_DIR"/etc/stubs/git/dots/* "$DOTS_DIR/.git/hooks"

[ -x "$(command -v pass)" ] && [ -d "$XDG_DATA_HOME/password-store" ] && pass git pull
if [ -x "$(command -v composer)" ]; then
    composer global install
    ln -sf "$COMPOSER_HOME/vendor" "$DOTS_DIR/vendor"
fi

init-nvim-spell
