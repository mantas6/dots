#!/usr/bin/env bash

set -e

apps=()

for app in "$HOME/Applications"/*.app "/Applications"/*.app; do
    apps+=("$(basename "$app")")
done

selection=$(printf '%s\n' "${apps[@]}" | sort -u | choose)

home="$HOME/Applications/$selection"
root="/Applications/$selection"

if [ -e "$home" ]; then
    open -n "$home"
else
    open -n "$root"
fi
