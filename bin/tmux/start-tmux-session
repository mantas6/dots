#!/usr/bin/env sh
# Tmux session start hook - ran after new session creation

if [ -d '.git' ] || [ -f 'composer.json' ] || [ -f 'package.json' ]; then
    tmux rename-window 'vi'
    tmux send-keys 'nvim .' C-m
    tmux new-window -n 'ex'

    if [ -n "$ADDITIONAL_CMD" ]; then
        tmux send-keys "$ADDITIONAL_CMD" C-m
    fi

    tmux new-window -n 'git'
    tmux new-window -n 'tin'

    tmux new-window -n 'llm' ai
    # tmux send-keys 'ai' C-m

    if [ -n "$ADDITIONAL_WINDOW_CMD" ]; then
        tmux new-window
        tmux send-keys "$ADDITIONAL_WINDOW_CMD" C-m
    fi

    tmux select-window -t 'vi'
fi
